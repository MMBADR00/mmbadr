<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>CortexLab | Software Project</title>
  <meta name="description" content="CortexLab: an integrated desktop suite for battery workflows and analytics." />
  <link rel="stylesheet" href="../style.css" />
  <script>
    document.documentElement.classList.add("js");
  </script>
</head>

<body>
  <nav class="topnav" aria-label="Primary navigation">
    <div class="container nav-inner">
      <div class="nav-links" aria-label="Navigation">
        <a href="../index.html#projects">Back to Projects</a>
        <a href="#overview">Overview</a>
        <a href="#tools">Tools</a>
        <a href="#download">Download</a>
      </div>
    </div>
  </nav>

  <header class="site-header site-header-compact">
    <div class="bg-grid" aria-hidden="true"></div>
    <div class="bg-scanline" aria-hidden="true"></div>

    <div class="container header-wrap">
      <div class="hero hero-compact">
        <div class="hero-left reveal">
          <div class="badge-row">
            <span class="badge">Software Project</span>
            <span class="badge badge-2">Battery Analytics</span>
            <span class="badge badge-3">SOC and SOH Estimation</span>
            <span class="badge badge-4">Monitoring and ML</span>
          </div>

          <h1 class="hero-title">CortexLab</h1>
          <p class="hero-subtitle">Integrated desktop suite for battery workflows</p>

          <div class="brand-row" aria-label="Affiliation">
            <img class="brand-logo" src="../assets/KAUST.jpg" alt="KAUST logo" loading="lazy" />
            <span class="muted">Energy Cortex, KAUST</span>
          </div>
        </div>
      </div>

      <div class="header-divider" aria-hidden="true"></div>
    </div>
  </header>

  <main class="container main">
    <!-- Overview -->
    <section id="overview" class="section reveal">
      <div class="section-head"><h2>Overview</h2></div>

      <div class="card card-glow">
        <div class="project-hero">
          <div class="project-hero-media">
            <!-- Optional: add your screenshot to /assets/projects/cortexlab.png -->
            <img
              src="../assets/projects/cortexlab.png"
              alt="CortexLab project cover image"
              loading="lazy"
              onerror="this.style.display='none'; this.parentElement.classList.add('no-media');"
            />
          </div>

          <div class="project-hero-body">
            <p class="muted">
              CortexLab is an integrated suite that groups multiple battery tools in one desktop workflow.
              It organizes typical battery analysis and estimation tasks, including SOC and SOH estimation,
              OCV-SOC analysis, real-time monitoring, drive cycle analysis, and machine learning prediction and classification.
            </p>

            <ul class="bullets bullets-tight">
              <li>Unified tool launcher and consistent UI layout</li>
              <li>Offline workflows for data import, analysis, plots, and exports</li>
              <li>Online workflows for monitoring and real-time computations</li>
              <li>Machine learning workflows for training and inference</li>
            </ul>

            <div class="project-actions">
              <a class="btn" href="#tools">Explore tools</a>
              <a class="btn btn-outline" href="#download">Go to download</a>
            </div>
          </div>
        </div>
      </div>
    </section>

    <!-- Tools -->
    <section id="tools" class="section reveal">
      <div class="section-head"><h2>Tools inside CortexLab</h2></div>

      <div class="card">
        <p class="muted">
          Each module is opened from CortexLab as a dedicated tool. The icons below use your provided PNG filenames.
        </p>

        <div class="tool-grid">
          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/DocumentationIcon.png" alt="Documentation tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">Documentation</h3>
              <p class="muted">Central viewer for manuals, app guidance, and reference material used across the suite.</p>
            </div>
          </article>

          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/ConnectionIcon.png" alt="Connection tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">Connection Viewer</h3>
              <p class="muted">Connection and wiring guidance for sensors and hardware interfaces used by monitoring tools.</p>
            </div>
          </article>

          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/BatteryKPIsIcon.png" alt="Battery KPIs tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">Battery KPIs</h3>
              <p class="muted">Battery KPI computations and reporting, including key health and performance indicators.</p>
            </div>
          </article>

          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/OCVSOCAnalysisIcon.png" alt="OCV-SOC Analysis tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">OCV-SOC Analysis</h3>
              <p class="muted">OCV curve processing and fitting workflows used for SOC-related analysis and model preparation.</p>
            </div>
          </article>

          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/OfflineStateEstimationIcon.png" alt="Offline State Estimation tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">Offline State Estimation</h3>
              <p class="muted">Offline SOC and SOH estimation workflows with data preview, operations, and visualization.</p>
            </div>
          </article>

          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/RTMonitoringIcon.png" alt="RT Monitoring tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">RT Monitoring</h3>
              <p class="muted">Real-time monitoring workflow with live sensor streams, plots, and estimation utilities.</p>
            </div>
          </article>

          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/DriveCycleIcon.png" alt="Drive Cycle tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">Drive Cycle</h3>
              <p class="muted">Drive cycle workflows for evaluation, profile viewing, and analysis-oriented visualization.</p>
            </div>
          </article>

          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/MachineLearningPredictionIcon.png" alt="Machine Learning Prediction tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">ML Prediction</h3>
              <p class="muted">Regression workflows for training, testing, metrics, plots, and exporting predictive models.</p>
            </div>
          </article>

          <article class="tool-card">
            <div class="tool-icon">
              <img src="../assets/tools/MachineLearningClassificationIcon.png" alt="Machine Learning Classification tool icon" loading="lazy" />
            </div>
            <div class="tool-body">
              <h3 class="tool-title">ML Classification</h3>
              <p class="muted">Classification workflows for model training, evaluation, reporting, and export.</p>
            </div>
          </article>
        </div>
      </div>
    </section>

    <!-- Download -->
    <section id="download" class="section reveal">
      <div class="section-head"><h2>Download</h2></div>

      <div class="card">
        <p class="muted">
          Enter the password to unlock the download button.
        </p>

        <div class="download-box" role="group" aria-label="Password protected download">
          <label class="dl-label" for="dl-pass">Password</label>
          <div class="dl-row">
            <input class="dl-input" id="dl-pass" type="password" placeholder="Enter password" autocomplete="current-password" />
            <button class="btn" id="dl-unlock" type="button">Unlock</button>
          </div>

          <p class="dl-msg" id="dl-msg" aria-live="polite"></p>

          <div class="dl-actions" id="dl-actions" hidden>
            <!-- Replace the file name with your real download artifact -->
            <a class="btn" href="../downloads/CortexLab.zip" download>Download CortexLab</a>
          </div>

          <p class="muted tiny">
            Note: This is a static-site gate that hides the link in the browser. It is not a secure access control method.
          </p>
        </div>
      </div>
    </section>

    <footer class="footer">
      <p>Â© <span id="year"></span> Mohamed M. Badr. Hosted on GitHub Pages.</p>
    </footer>
  </main>

  <script>
    document.getElementById("year").textContent = new Date().getFullYear();

    // ===== Password gate settings =====
    // Replace with your real password (keep it simple if you only want a basic gate).
    const COR_TLAB_PASSWORD = "REPLACE_WITH_YOUR_PASSWORD";

    const passEl = document.getElementById("dl-pass");
    const unlockBtn = document.getElementById("dl-unlock");
    const msgEl = document.getElementById("dl-msg");
    const actionsEl = document.getElementById("dl-actions");

    function setUnlocked(isUnlocked) {
      if (isUnlocked) {
        actionsEl.hidden = false;
        msgEl.textContent = "Unlocked. You can download now.";
        msgEl.classList.remove("is-bad");
        msgEl.classList.add("is-good");
        try { sessionStorage.setItem("cortexlab_unlocked", "1"); } catch (e) {}
      } else {
        actionsEl.hidden = true;
        msgEl.textContent = "Incorrect password. Try again.";
        msgEl.classList.remove("is-good");
        msgEl.classList.add("is-bad");
      }
    }

    // Restore unlock state for this tab if available
    try {
      if (sessionStorage.getItem("cortexlab_unlocked") === "1") {
        setUnlocked(true);
      }
    } catch (e) {}

    function tryUnlock() {
      const v = (passEl.value || "").trim();
      if (!v) {
        msgEl.textContent = "Please enter the password.";
        msgEl.classList.remove("is-good");
        msgEl.classList.add("is-bad");
        actionsEl.hidden = true;
        return;
      }
      setUnlocked(v === COR_TLAB_PASSWORD);
    }

    unlockBtn.addEventListener("click", tryUnlock);
    passEl.addEventListener("keydown", (e) => {
      if (e.key === "Enter") tryUnlock();
    });

    // Reveal animation
    (function () {
      const els = document.querySelectorAll(".reveal");
      if (!("IntersectionObserver" in window) || els.length === 0) {
        els.forEach((el) => el.classList.add("in"));
        return;
      }
      const obs = new IntersectionObserver((entries) => {
        entries.forEach((e) => {
          if (e.isIntersecting) {
            e.target.classList.add("in");
            obs.unobserve(e.target);
          }
        });
      }, { threshold: 0.12 });

      els.forEach((el, idx) => {
        el.style.setProperty("--reveal-delay", (idx * 60) + "ms");
        obs.observe(el);
      });
    })();
  </script>
</body>
</html>
